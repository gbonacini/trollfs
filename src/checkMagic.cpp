#include <checkMagic.hpp>
    
using std::string;
using std::map;
using std::cerr;
using std::endl;
    
namespace checkMagic{

    const string MIME_DB("/usr/share/file/magic.mgc");  
    const string DEFAULT_EXT("default"); 

    MagicFile::MagicFile() : mimeDb(MIME_DB){
         initDictionary();
    }

    MagicFile& MagicFile::getInstance(){
         static MagicFile mf; 
	 return mf;
    }

    void MagicFile::setMagicDb(string mdb) noexcept(true){
         mimeDb    =   mdb;
    }

    const string& MagicFile::getDefaultExt(void) noexcept(true){
         return  DEFAULT_EXT;
    }

    const string& MagicFile::magicExtLookup(const string& ext) const noexcept(true){
	  auto el = extLookup.find(ext);
          if(el != extLookup.cend())
              return el->second;
	  else
              return extLookup.find(DEFAULT_EXT)->second;
    }

    const string& MagicFile::magicMimeLookup(const string& mime) const noexcept(true){
	  auto el = typeLookup.find(mime);
          if(el != typeLookup.cend())
              return el->second;
	  else
              return typeLookup.find("not-found")->second;
    }

    bool MagicFile::magicIdentifier(const char* file) const noexcept(true){
	bool       ret           =  true;
        const char *mimetype;
	magic_t    magic_cookie  =  magic_open(MAGIC_MIME_TYPE);

	if(magic_cookie  == nullptr){
	    cerr << "Error creating magic cookie: " << magic_error(magic_cookie) << endl;
	    ret = false;
	}else{
            magic_load(magic_cookie,  mimeDb.c_str());
            mimetype=magic_file(magic_cookie, file);
	    if(mimetype == nullptr) ret = false;
        }

        magic_close(magic_cookie);
        return ret;
    }

    bool MagicFile::magicIdentifier(const char* file, string& dest) const noexcept(true){
	bool       ret           =  true;
        const char *mimetype;
	magic_t    magic_cookie =  magic_open(MAGIC_MIME_TYPE);

	if(magic_cookie  == nullptr){
	    cerr << "Error creating magic cookie\n";
	    ret = false;
	}else{
            magic_load(magic_cookie,  mimeDb.c_str());
            mimetype=magic_file(magic_cookie, file);
	    if(mimetype == nullptr){
		 ret  = false;
		 dest = "";
	    }else{
	         dest = mimetype;
	    }
        }

        magic_close(magic_cookie);
        return ret;
    }

    void MagicFile::initDictionary(void) noexcept(true){

        extLookup = {
           {DEFAULT_EXT,"not-found"},
           {"aw","application/applixware"},
           {"atom","application/atom+xml"},
           {"xml","application/atom+xml"},
           {"atomcat","application/atomcat+xml"},
           {"ccxml","application/ccxml+xml"},
           {"cdmia","application/cdmi-capability"},
           {"cdmic","application/cdmi-container"},
           {"cdmid","application/cdmi-domain"},
           {"cdmio","application/cdmi-object"},
           {"cu","application/cu-seeme"},
           {"dssc","application/dssc+der"},
           {"xdssc","application/dssc+xml"},
           {"es","application/ecmascript"},
           {"emma","application/emma+xml"},
           {"epub","application/epub+zip"},
           {"exi","application/exi"},
           {"pfr","application/font-tdpfr"},
           {"stk","application/hyperstudio"},
           {"ipfix","application/ipfix"},
           {"jar","application/java-archive"},
           {"ser","application/java-serialized-object"},
           {"class","application/java-vm"},
           {"js","application/javascript"},
           {"json","application/json"},
           {"hqx","application/mac-binhex40"},
           {"cpt","application/mac-compactpro"},
           {"mads","application/mads+xml"},
           {"mrc","application/marc"},
           {"mrcx","application/marcxml+xml"},
           {"ma","application/mathematica"},
           {"mathml","application/mathml+xml"},
           {"mbox","application/mbox"},
           {"mscml","application/mediaservercontrol+xml"},
           {"meta4","application/metalink4+xml"},
           {"mods","application/mods+xml"},
           {"m21","application/mp21"},
           {"mp4","application/mp4"},
           {"doc","application/msword"},
           {"mxf","application/mxf"},
           {"bin","application/octet-stream"},
           {"oda","application/oda"},
           {"opf","application/oebps-package+xml"},
           {"ogx","application/ogg"},
           {"onetoc","application/onenote"},
           {"xer","application/patch-ops-error+xml"},
           {"pdf","application/pdf"},
           {"pgp","application/pgp-encrypted"},
           {"pgp","application/pgp-signature"},
           {"prf","application/pics-rules"},
           {"p10","application/pkcs10"},
           {"p7m","application/pkcs7-mime"},
           {"p7s","application/pkcs7-signature"},
           {"ac","application/pkix-attr-cert"},
           {"cer","application/pkix-cert"},
           {"crl","application/pkix-crl"},
           {"pkipath","application/pkix-pkipath"},
           {"pki","application/pkixcmp"},
           {"pls","application/pls+xml"},
           {"ai","application/postscript"},
           {"cww","application/prs.cww"},
           {"pskcxml","application/pskc+xml"},
           {"rdf","application/rdf+xml"},
           {"rif","application/reginfo+xml"},
           {"rnc","application/relax-ng-compact-syntax"},
           {"rl","application/resource-lists+xml"},
           {"rld","application/resource-lists-diff+xml"},
           {"rs","application/rls-services+xml"},
           {"rsd","application/rsd+xml"},
           {"rss","application/rss+xml"},
           {"xml","application/rss+xml"},
           {"rtf","application/rtf"},
           {"sbml","application/sbml+xml"},
           {"scq","application/scvp-cv-request"},
           {"scs","application/scvp-cv-response"},
           {"spq","application/scvp-vp-request"},
           {"spp","application/scvp-vp-response"},
           {"sdp","application/sdp"},
           {"setpay","application/set-payment-initiation"},
           {"setreg","application/set-registration-initiation"},
           {"shf","application/shf+xml"},
           {"rq","application/sparql-query"},
           {"srx","application/sparql-results+xml"},
           {"gram","application/srgs"},
           {"sru ","application/sru+xml"},
           {"ssml","application/ssml+xml"},
           {"tei","application/tei+xml"},
           {"tfi","application/thraud+xml"},
           {"tsd","application/timestamped-data"},
           {"plb","application/vnd.3gpp.pic-bw-large"},
           {"psb","application/vnd.3gpp.pic-bw-small"},
           {"pvb","application/vnd.3gpp.pic-bw-var"},
           {"tcap","application/vnd.3gpp2.tcap"},
           {"pwn","application/vnd.3m.post-it-notes"},
           {"aso","application/vnd.accpac.simply.aso"},
           {"acu","application/vnd.acucobol"},
           {"atc","application/vnd.acucorp"},
           {"air","application/vnd.adobe.air-application-installer-package+zip"},
           {"fxp","application/vnd.adobe.fxp"},
           {"xdp","application/vnd.adobe.xdp+xml"},
           {"xfdf","application/vnd.adobe.xfdf"},
           {"ahead","application/vnd.ahead.space"},
           {"azf","application/vnd.airzip.filesecure.azf"},
           {"azs","application/vnd.airzip.filesecure.azs"},
           {"azw","application/vnd.amazon.ebook"},
           {"acc","application/vnd.americandynamics.acc"},
           {"ami","application/vnd.amiga.ami"},
           {"apk","application/vnd.android.package-archive"},
           {"cii","application/vnd.anser-web-certificate-issue-initiation"},
           {"fti","application/vnd.anser-web-funds-transfer-initiation"},
           {"atx","application/vnd.antix.game-component"},
           {"mpkg","application/vnd.apple.installer+xml"},
           {"m3u8","application/vnd.apple.mpegurl"},
           {"aep","application/vnd.audiograph"},
           {"mpm","application/vnd.blueice.multipass"},
           {"bmi","application/vnd.bmi"},
           {"rep","application/vnd.businessobjects"},
           {"cdxml","application/vnd.chemdraw+xml"},
           {"cla","application/vnd.claymore"},
           {"rp9","application/vnd.cloanto.rp9"},
           {"c4g","application/vnd.clonk.c4group"},
           {"c11amz","application/vnd.cluetrust.cartomobile-config-pkg"},
           {"c11amc","application/vnd.cluetrust.cartomobile-config"},
           {"csp","application/vnd.commonspace"},
           {"cdbcmsg","application/vnd.contact.cmsg"},
           {"cmc","application/vnd.cosmocaller"},
           {"clkk","application/vnd.crick.clicker.keyboard"},
           {"clkp","application/vnd.crick.clicker.palette"},
           {"clkt","application/vnd.crick.clicker.template"},
           {"clkw","application/vnd.crick.clicker.wordbank"},
           {"clkx","application/vnd.crick.clicker"},
           {"wbs","application/vnd.criticaltools.wbs+xml"},
           {"pml","application/vnd.ctc-posml"},
           {"ppd","application/vnd.cups-ppd"},
           {"car","application/vnd.curl.car"},
           {"pcurl","application/vnd.curl.pcurl"},
           {"rdz","application/vnd.data-vision.rdz"},
           {"dna","application/vnd.dna"},
           {"mlp","application/vnd.dolby.mlp"},
           {"dpg","application/vnd.dpgraph"},
           {"dfac","application/vnd.dreamfactory"},
           {"ait","application/vnd.dvb.ait"},
           {"svc","application/vnd.dvb.service"},
           {"geo","application/vnd.dynageo"},
           {"mag","application/vnd.ecowin.chart"},
           {"nml","application/vnd.enliven"},
           {"esf","application/vnd.epson.esf"},
           {"msf","application/vnd.epson.msf"},
           {"qam","application/vnd.epson.quickanime"},
           {"slt","application/vnd.epson.salt"},
           {"ssf","application/vnd.epson.ssf"},
           {"es3","application/vnd.eszigno3+xml"},
           {"ez2","application/vnd.ezpix-album"},
           {"ez3","application/vnd.ezpix-package"},
           {"fdf","application/vnd.fdf"},
           {"seed","application/vnd.fdsn.seed"},
           {"gph","application/vnd.flographit"},
           {"ftc","application/vnd.fluxtime.clip"},
           {"fm","application/vnd.framemaker"},
           {"fnc","application/vnd.frogans.fnc"},
           {"ltf","application/vnd.frogans.ltf"},
           {"fsc","application/vnd.fsc.weblaunch"},
           {"oa2","application/vnd.fujitsu.oasys2"},
           {"oa3","application/vnd.fujitsu.oasys3"},
           {"oas","application/vnd.fujitsu.oasys"},
           {"fg5","application/vnd.fujitsu.oasysgp"},
           {"bh2","application/vnd.fujitsu.oasysprs"},
           {"ddd","application/vnd.fujixerox.ddd"},
           {"xbd","application/vnd.fujixerox.docuworks.binder"},
           {"xdw","application/vnd.fujixerox.docuworks"},
           {"fzs","application/vnd.fuzzysheet"},
           {"txd","application/vnd.genomatix.tuxedo"},
           {"ggb","application/vnd.geogebra.file"},
           {"ggt","application/vnd.geogebra.tool"},
           {"gex","application/vnd.geometry-explorer"},
           {"gxt","application/vnd.geonext"},
           {"g2w","application/vnd.geoplan"},
           {"g3w","application/vnd.geospace"},
           {"gmx","application/vnd.gmx"},
           {"kml","application/vnd.google-earth.kml+xml"},
           {"kmz","application/vnd.google-earth.kmz"},
           {"gqf","application/vnd.grafeq"},
           {"gac","application/vnd.groove-account"},
           {"ghf","application/vnd.groove-help"},
           {"grv","application/vnd.groove-injector"},
           {"gtm","application/vnd.groove-tool-message"},
           {"tpl","application/vnd.groove-tool-template"},
           {"vcg","application/vnd.groove-vcard"},
           {"hal","application/vnd.hal+xml"},
           {"zmm","application/vnd.handheld-entertainment+xml"},
           {"hbci","application/vnd.hbci"},
           {"les","application/vnd.hhe.lesson-player"},
           {"hpgl","application/vnd.hp-hpgl"},
           {"hpid","application/vnd.hp-hpid"},
           {"hps","application/vnd.hp-hps"},
           {"pcl","application/vnd.hp-pcl"},
           {"pclxl","application/vnd.hp-pclxl"},
           {"x3d","application/vnd.hzn-3d-crossword"},
           {"mpy","application/vnd.ibm.minipay"},
           {"afp","application/vnd.ibm.modcap"},
           {"irm","application/vnd.ibm.rights-management"},
           {"sc","application/vnd.ibm.secure-container"},
           {"icc","application/vnd.iccprofile"},
           {"igl","application/vnd.igloader"},
           {"ivp","application/vnd.immervision-ivp"},
           {"ivu","application/vnd.immervision-ivu"},
           {"igm","application/vnd.insors.igm"},
           {"xpw","application/vnd.intercon.formnet"},
           {"i2g","application/vnd.intergeo"},
           {"qbo","application/vnd.intu.qbo"},
           {"qfx","application/vnd.intu.qfx"},
           {"irp","application/vnd.irepository.package+xml"},
           {"xpr","application/vnd.is-xpr"},
           {"fcs","application/vnd.isac.fcs"},
           {"jam","application/vnd.jam"},
           {"rms","application/vnd.jcp.javame.midlet-rms"},
           {"jisp","application/vnd.jisp"},
           {"joda","application/vnd.joost.joda-archive"},
           {"ktz","application/vnd.kahootz"},
           {"karbon","application/vnd.kde.karbon"},
           {"chrt","application/vnd.kde.kchart"},
           {"flw","application/vnd.kde.kivio"},
           {"kon","application/vnd.kde.kontour"},
           {"kpr","application/vnd.kde.kpresenter"},
           {"ksp","application/vnd.kde.kspread"},
           {"kwd","application/vnd.kde.kword"},
           {"htke","application/vnd.kenameaapp"},
           {"kia","application/vnd.kidspiration"},
           {"kne","application/vnd.kinar"},
           {"skp","application/vnd.koan"},
           {"sse","application/vnd.kodak-descriptor"},
           {"lasxml","application/vnd.las.las+xml"},
           {"lbd","application/vnd.llamagraphics.life-balance.desktop"},
           {"lbe","application/vnd.llamagraphics.life-balance.exchange+xml"},
           {"123","application/vnd.lotus-1-2-3"},
           {"apr","application/vnd.lotus-approach"},
           {"pre","application/vnd.lotus-freelance"},
           {"nsf","application/vnd.lotus-notes"},
           {"org","application/vnd.lotus-organizer"},
           {"scm","application/vnd.lotus-screencam"},
           {"lwp","application/vnd.lotus-wordpro"},
           {"portpkg","application/vnd.macports.portpkg"},
           {"mcd","application/vnd.mcd"},
           {"mc1","application/vnd.medcalcdata"},
           {"cdkey","application/vnd.mediastation.cdkey"},
           {"mwf","application/vnd.mfer"},
           {"mfm","application/vnd.mfmp"},
           {"flo","application/vnd.micrografx.flo"},
           {"igx","application/vnd.micrografx.igx"},
           {"mif","application/vnd.mif"},
           {"daf","application/vnd.mobius.daf"},
           {"dis","application/vnd.mobius.dis"},
           {"msl","application/vnd.mobius.msl"},
           {"plc","application/vnd.mobius.plc"},
           {"txf","application/vnd.mobius.txf"},
           {"mpn","application/vnd.mophun.application"},
           {"mpc","application/vnd.mophun.certificate"},
           {"cil","application/vnd.ms-artgalry"},
           {"cab","application/vnd.ms-cab-compressed"},
           {"xlam","application/vnd.ms-excel.addin.macroenabled.12"},
           {"xlsb","application/vnd.ms-excel.sheet.binary.macroenabled.12"},
           {"xlsm","application/vnd.ms-excel.sheet.macroenabled.12"},
           {"xltm","application/vnd.ms-excel.template.macroenabled.12"},
           {"xls","application/vnd.ms-excel"},
           {"eot","application/vnd.ms-fontobject"},
           {"chm","application/vnd.ms-htmlhelp"},
           {"ims","application/vnd.ms-ims"},
           {"lrm","application/vnd.ms-lrm"},
           {"cat","application/vnd.ms-pki.seccat"},
           {"stl","application/vnd.ms-pki.stl"},
           {"ppam","application/vnd.ms-powerpoint.addin.macroenabled.12"},
           {"pptm","application/vnd.ms-powerpoint.presentation.macroenabled.12"},
           {"sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"},
           {"ppsm","application/vnd.ms-powerpoint.slideshow.macroenabled.12"},
           {"potm","application/vnd.ms-powerpoint.template.macroenabled.12"},
           {"ppt","application/vnd.ms-powerpoint"},
           {"mpp","application/vnd.ms-project"},
           {"docm","application/vnd.ms-word.document.macroenabled.12"},
           {"dotm","application/vnd.ms-word.template.macroenabled.12"},
           {"wps","application/vnd.ms-works"},
           {"wpl","application/vnd.ms-wpl"},
           {"mseq","application/vnd.mseq"},
           {"mus","application/vnd.musician"},
           {"msty","application/vnd.muvee.style"},
           {"nlu","application/vnd.neurolanguage.nlu"},
           {"nnd","application/vnd.noblenet-directory"},
           {"nns","application/vnd.noblenet-sealer"},
           {"nnw","application/vnd.noblenet-web"},
           {"ngdat","application/vnd.nokia.n-gage.data"},
           {"edm","application/vnd.novadigm.edm"},
           {"edx","application/vnd.novadigm.edx"},
           {"ext","application/vnd.novadigm.ext"},
           {"otc","application/vnd.oasis.opendocument.chart-template"},
           {"odc","application/vnd.oasis.opendocument.chart"},
           {"odft","application/vnd.oasis.opendocument.formula-template"},
           {"odf","application/vnd.oasis.opendocument.formula"},
           {"otg","application/vnd.oasis.opendocument.graphics-template"},
           {"oti","application/vnd.oasis.opendocument.image-template"},
           {"odi","application/vnd.oasis.opendocument.image"},
           {"otp","application/vnd.oasis.opendocument.presentation-template"},
           {"odp","application/vnd.oasis.opendocument.presentation"},
           {"ots","application/vnd.oasis.opendocument.spreadsheet-template"},
           {"ods","application/vnd.oasis.opendocument.spreadsheet"},
           {"odm","application/vnd.oasis.opendocument.text-master"},
           {"ott","application/vnd.oasis.opendocument.text-template"},
           {"odt","application/vnd.oasis.opendocument.text"},
           {"xo","application/vnd.olpc-sugar"},
           {"dd2","application/vnd.oma.dd2+xml"},
           {"oxt","application/vnd.openofficeorg.extension"},
           {"docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"},
           {"dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"},
           {"mgp","application/vnd.osgeo.mapguide.package"},
           {"dp","application/vnd.osgi.dp"},
           {"pdb","application/vnd.palm"},
           {"paw","application/vnd.pawaafile"},
           {"efif","application/vnd.picsel"},
           {"wg","application/vnd.pmi.widget"},
           {"plf","application/vnd.pocketlearn"},
           {"pbd","application/vnd.powerbuilder6"},
           {"box","application/vnd.previewsystems.box"},
           {"mgz","application/vnd.proteus.magazine"},
           {"qps","application/vnd.publishare-delta-tree"},
           {"ptid","application/vnd.pvi.ptid1"},
           {"qxd","application/vnd.quark.quarkxpress"},
           {"bed","application/vnd.realvnc.bed"},
           {"mxl","application/vnd.recordare.musicxml"},
           {"cryptonote","application/vnd.rig.cryptonote"},
           {"cod","application/vnd.rim.cod"},
           {"rm","application/vnd.rn-realmedia"},
           {"st","application/vnd.sailingtracker.track"},
           {"see","application/vnd.seemail"},
           {"sema","application/vnd.sema"},
           {"semd","application/vnd.semd"},
           {"semf","application/vnd.semf"},
           {"ifm","application/vnd.shana.informed.formdata"},
           {"ipk","application/vnd.shana.informed.package"},
           {"twd","application/vnd.simtech-mindmapper"},
           {"mmf","application/vnd.smaf"},
           {"teacher","application/vnd.smart.teacher"},
           {"sdkm","application/vnd.solent.sdkm+xml"},
           {"dxp","application/vnd.spotfire.dxp"},
           {"sfs","application/vnd.spotfire.sfs"},
           {"sdc","application/vnd.stardivision.calc"},
           {"sda","application/vnd.stardivision.draw"},
           {"sdd","application/vnd.stardivision.impress"},
           {"smf","application/vnd.stardivision.math"},
           {"sgl","application/vnd.stardivision.writer-global"},
           {"sdw","application/vnd.stardivision.writer"},
           {"sm","application/vnd.stepmania.stepchart"},
           {"stc","application/vnd.sun.xml.calc.template"},
           {"sxc","application/vnd.sun.xml.calc"},
           {"std","application/vnd.sun.xml.draw.template"},
           {"sxd","application/vnd.sun.xml.draw"},
           {"sti","application/vnd.sun.xml.impress.template"},
           {"sxm","application/vnd.sun.xml.math"},
           {"sxg","application/vnd.sun.xml.writer.global"},
           {"stw","application/vnd.sun.xml.writer.template"},
           {"sus","application/vnd.sus-calendar"},
           {"svd","application/vnd.svd"},
           {"sis","application/vnd.symbian.install"},
           {"xsm","application/vnd.syncml+xml"},
           {"bdm","application/vnd.syncml.dm+wbxml"},
           {"xdm","application/vnd.syncml.dm+xml"},
           {"tao","application/vnd.tao.intent-module-archive"},
           {"tmo","application/vnd.tmobile-livetv"},
           {"tpt","application/vnd.trid.tpt"},
           {"mxs","application/vnd.triscape.mxs"},
           {"tra","application/vnd.trueapp"},
           {"ufd","application/vnd.ufdl"},
           {"umj","application/vnd.umajin"},
           {"unityweb","application/vnd.unity"},
           {"uoml","application/vnd.uoml+xml"},
           {"vcx","application/vnd.vcx"},
           {"vsdx","application/vnd.visio2013"},
           {"vsd","application/vnd.visio"},
           {"vis","application/vnd.visionary"},
           {"vsf","application/vnd.vsf"},
           {"wbxml","application/vnd.wap.wbxml"},
           {"wmlsc","application/vnd.wap.wmlscriptc"},
           {"wtb","application/vnd.webturbo"},
           {"nbp","application/vnd.wolfram.player"},
           {"wpd","application/vnd.wordperfect"},
           {"wqd","application/vnd.wqd"},
           {"stf","application/vnd.wt.stf"},
           {"xar","application/vnd.xara"},
           {"xfdl","application/vnd.xfdl"},
           {"hvd","application/vnd.yamaha.hv-dic"},
           {"hvs","application/vnd.yamaha.hv-script"},
           {"hvp","application/vnd.yamaha.hv-voice"},
           {"osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"},
           {"osf","application/vnd.yamaha.openscoreformat"},
           {"saf","application/vnd.yamaha.smaf-audio"},
           {"spf","application/vnd.yamaha.smaf-phrase"},
           {"cmp","application/vnd.yellowriver-custom-menu"},
           {"zir","application/vnd.zul"},
           {"zaz","application/vnd.zzazz.deck+xml"},
           {"vxml","application/voicexml+xml"},
           {"wgt","application/widget"},
           {"hlp","application/winhlp"},
           {"wsdl","application/wsdl+xml"},
           {"wspolicy","application/wspolicy+xml"},
           {"7z","application/x-7z-compressed"},
           {"abw","application/x-abiword"},
           {"ace","application/x-ace-compressed"},
           {"dmg","application/x-apple-diskimage"},
           {"aab","application/x-authorware-bin"},
           {"aas","application/x-authorware-seg"},
           {"bcpio","application/x-bcpio"},
           {"torrent","application/x-bittorrent"},
           {"bz2","application/x-bzip2"},
           {"bz","application/x-bzip"},
           {"vcd","application/x-cdlink"},
           {"chat","application/x-chat"},
           {"pgn","application/x-chess-pgn"},
           {"cpio","application/x-cpio"},
           {"csh","application/x-csh"},
           {"deb","application/x-debian-package"},
           {"dir","application/x-director"},
           {"wad","application/x-doom"},
           {"dtb","application/x-dtbook+xml"},
           {"dvi","application/x-dvi"},
           {"bdf","application/x-font-bdf"},
           {"gsf","application/x-font-ghostscript"},
           {"psf","application/x-font-linux-psf"},
           {"otf","application/x-font-otf"},
           {"pcf","application/x-font-pcf"},
           {"snf","application/x-font-snf"},
           {"ttf","application/x-font-ttf"},
           {"pfa","application/x-font-type1"},
           {"woff","application/x-font-woff"},
           {"spl","application/x-futuresplash"},
           {"gnumeric","application/x-gnumeric"},
           {"gtar","application/x-gtar"},
           {"hdf","application/x-hdf"},
           {"jnlp","application/x-java-jnlp-file"},
           {"latex","application/x-latex"},
           {"prc","application/x-mobipocket-ebook"},
           {"application","application/x-ms-application"},
           {"wmd","application/x-ms-wmd"},
           {"xbap","application/x-ms-xbap"},
           {"mdb","application/x-msaccess"},
           {"obd","application/x-msbinder"},
           {"crd","application/x-mscardfile"},
           {"clp","application/x-msclip"},
           {"exe","application/x-msdownload"},
           {"mvb","application/x-msmediaview"},
           {"wmf","application/x-msmetafile"},
           {"mny","application/x-msmoney"},
           {"pub","application/x-mspublisher"},
           {"scd","application/x-msschedule"},
           {"trm","application/x-msterminal"},
           {"wri","application/x-mswrite"},
           {"nc","application/x-netcdf"},
           {"p12","application/x-pkcs12"},
           {"p7b","application/x-pkcs7-certificates"},
           {"p7r","application/x-pkcs7-certreqresp"},
           {"rar","application/x-rar-compressed"},
           {"sh","application/x-sh"},
           {"shar","application/x-shar"},
           {"swf","application/x-shockwave-flash"},
           {"xap","application/x-silverlight-app"},
           {"sit","application/x-stuffit"},
           {"sitx","application/x-stuffitx"},
           {"sv4cpio","application/x-sv4cpio"},
           {"sv4crc","application/x-sv4crc"},
           {"tar","application/x-tar"},
           {"tcl","application/x-tcl"},
           {"tfm","application/x-tex-tfm"},
           {"tex","application/x-tex"},
           {"texinfo","application/x-texinfo"},
           {"ustar","application/x-ustar"},
           {"src","application/x-wais-source"},
           {"der","application/x-x509-ca-cert"},
           {"fig","application/x-xfig"},
           {"xpi","application/x-xpinstall"},
           {"xdf","application/xcap-diff+xml"},
           {"xenc","application/xenc+xml"},
           {"xhtml","application/xhtml+xml"},
           {"dtd","application/xml-dtd"},
           {"xml","application/xml"},
           {"xop","application/xop+xml"},
           {"xslt","application/xslt+xml"},
           {"xspf","application/xspf+xml"},
           {"mxml","application/xv+xml"},
           {"yang","application/yang"},
           {"yin","application/yin+xml"},
           {"zip","application/zip"},
           {"adp","audio/adpcm"},
           {"au","audio/basic"},
           {"mid","audio/midi"},
           {"mp4a","audio/mp4"},
           {"mpga","audio/mpeg"},
           {"oga","audio/ogg"},
           {"uva","audio/vnd.dece.audio"},
           {"eol","audio/vnd.digital-winds"},
           {"dra","audio/vnd.dra"},
           {"dtshd","audio/vnd.dts.hd"},
           {"dts","audio/vnd.dts"},
           {"lvp","audio/vnd.lucent.voice"},
           {"pya","audio/vnd.ms-playready.media.pya"},
           {"ecelp4800","audio/vnd.nuera.ecelp4800"},
           {"ecelp7470","audio/vnd.nuera.ecelp7470"},
           {"ecelp9600","audio/vnd.nuera.ecelp9600"},
           {"rip","audio/vnd.rip"},
           {"weba","audio/webm"},
           {"aac","audio/x-aac"},
           {"aif","audio/x-aiff"},
           {"m3u","audio/x-mpegurl"},
           {"wax","audio/x-ms-wax"},
           {"wma","audio/x-ms-wma"},
           {"rmp","audio/x-pn-realaudio-plugin"},
           {"ram","audio/x-pn-realaudio"},
           {"wav","audio/x-wav"},
           {"cdx","chemical/x-cdx"},
           {"cif","chemical/x-cif"},
           {"cmdf","chemical/x-cmdf"},
           {"cml","chemical/x-cml"},
           {"csml","chemical/x-csml"},
           {"xyz","chemical/x-xyz"},
           {"bmp","image/bmp"},
           {"cgm","image/cgm"},
           {"g3","image/g3fax"},
           {"gif","image/gif"},
           {"ief","image/ief"},
           {"jpeg","image/jpeg"},
           {"jpg","image/jpeg"},
           {"ktx","image/ktx"},
           {"pjpeg","image/pjpeg"},
           {"png","image/png"},
           {"btif","image/prs.btif"},
           {"svg","image/svg+xml"},
           {"tiff","image/tiff"},
           {"psd","image/vnd.adobe.photoshop"},
           {"uvi","image/vnd.dece.graphic"},
           {"djvu","image/vnd.djvu"},
           {"sub","image/vnd.dvb.subtitle"},
           {"dwg","image/vnd.dwg"},
           {"dxf","image/vnd.dxf"},
           {"fbs","image/vnd.fastbidsheet"},
           {"fpx","image/vnd.fpx"},
           {"fst","image/vnd.fst"},
           {"mmr","image/vnd.fujixerox.edmics-mmr"},
           {"rlc","image/vnd.fujixerox.edmics-rlc"},
           {"mdi","image/vnd.ms-modi"},
           {"npx","image/vnd.net-fpx"},
           {"wbmp","image/vnd.wap.wbmp"},
           {"xif","image/vnd.xiff"},
           {"webp","image/webp"},
           {"jpeg","image/x-citrix-jpeg"},
           {"jpg","image/x-citrix-jpeg"},
           {"ras","image/x-cmu-raster"},
           {"cmx","image/x-cmx"},
           {"fh","image/x-freehand"},
           {"ico","image/x-icon"},
           {"pcx","image/x-pcx"},
           {"pic","image/x-pict"},
           {"png","image/x-png"},
           {"pnm","image/x-portable-anymap"},
           {"pbm","image/x-portable-bitmap"},
           {"pgm","image/x-portable-graymap"},
           {"ppm","image/x-portable-pixmap"},
           {"rgb","image/x-rgb"},
           {"xbm","image/x-xbitmap"},
           {"xpm","image/x-xpixmap"},
           {"xwd","image/x-xwindowdump"},
           {"eml","message/rfc822"},
           {"fly","mod_fly/fly.cgi"},
           {"igs","model/iges"},
           {"msh","model/mesh"},
           {"dae","model/vnd.collada+xml"},
           {"dwf","model/vnd.dwf"},
           {"gdl","model/vnd.gdl"},
           {"gtw","model/vnd.gtw"},
           {"mts","model/vnd.mts"},
           {"vtu","model/vnd.vtu"},
           {"wrl","model/vrml"},
           {"ics","text/calendar"},
           {"css","text/css"},
           {"csv","text/csv"},
           {"html","text/html"},
           {"n3","text/n3"},
           {"par","text/plain-bas"},
           {"txt","text/plain"},
           {"dsc","text/prs.lines.tag"},
           {"rtx","text/richtext"},
           {"sgml","text/sgml"},
           {"tsv","text/tab-separated-values"},
           {"t","text/troff"},
           {"ttl","text/turtle"},
           {"uri","text/uri-list"},
           {"dcurl","text/vnd.curl.dcurl"},
           {"mcurl","text/vnd.curl.mcurl"},
           {"scurl","text/vnd.curl.scurl"},
           {"curl","text/vnd.curl"},
           {"fly","text/vnd.fly"},
           {"flx","text/vnd.fmi.flexstor"},
           {"gv","text/vnd.graphviz"},
           {"3dml","text/vnd.in3d.3dml"},
           {"spot","text/vnd.in3d.spot"},
           {"jad","text/vnd.sun.j2me.app-descriptor"},
           {"wml","text/vnd.wap.wml"},
           {"s","text/x-asm"},
           {"c","text/x-c"},
           {"f","text/x-fortran"},
           {"java","text/x-java-source"},
           {"p","text/x-pascal"},
           {"etx","text/x-setext"},
           {"uu","text/x-uuencode"},
           {"vcs","text/x-vcalendar"},
           {"vcf","text/x-vcard"},
           {"3g2","video/3gpp2"},
           {"3gp","video/3gpp"},
           {"h261","video/h261"},
           {"h263","video/h263"},
           {"h264","video/h264"},
           {"jpgv","video/jpeg"},
           {"jpm","video/jpm"},
           {"mj2","video/mj2"},
           {"mp4","video/mp4"},
           {"mpeg","video/mpeg"},
           {"ogv","video/ogg"},
           {"qt","video/quicktime"},
           {"uvh","video/vnd.dece.hd"},
           {"uvm","video/vnd.dece.mobile"},
           {"uvp","video/vnd.dece.pd"},
           {"uvs","video/vnd.dece.sd"},
           {"uvv","video/vnd.dece.video"},
           {"fvt","video/vnd.fvt"},
           {"mxu","video/vnd.mpegurl"},
           {"pyv","video/vnd.ms-playready.media.pyv"},
           {"uvu","video/vnd.uvvu.mp4"},
           {"viv","video/vnd.vivo"},
           {"webm","video/webm"},
           {"f4v","video/x-f4v"},
           {"fli","video/x-fli"},
           {"flv","video/x-flv"},
           {"m4v","video/x-m4v"},
           {"asf","video/x-ms-asf"},
           {"wm","video/x-ms-wm"},
           {"wmv","video/x-ms-wmv"},
           {"wmx","video/x-ms-wmx"},
           {"wvx","video/x-ms-wvx"},
           {"avi","video/x-msvideo"},
           {"movie","video/x-sgi-movie"},
           {"ice","x-conference/x-cooltalk"}
        };
        
        typeLookup = {
           {"not-found",DEFAULT_EXT},
           {"application/applixware","aw"},
           {"application/atom+xml","atom"},
           {"application/atom+xml","xml"},
           {"application/atomcat+xml","atomcat"},
           {"application/ccxml+xml","ccxml"},
           {"application/cdmi-capability","cdmia"},
           {"application/cdmi-container","cdmic"},
           {"application/cdmi-domain","cdmid"},
           {"application/cdmi-object","cdmio"},
           {"application/cu-seeme","cu"},
           {"application/dssc+der","dssc"},
           {"application/dssc+xml","xdssc"},
           {"application/ecmascript","es"},
           {"application/emma+xml","emma"},
           {"application/epub+zip","epub"},
           {"application/exi","exi"},
           {"application/font-tdpfr","pfr"},
           {"application/hyperstudio","stk"},
           {"application/ipfix","ipfix"},
           {"application/java-archive","jar"},
           {"application/java-serialized-object","ser"},
           {"application/java-vm","class"},
           {"application/javascript","js"},
           {"application/json","json"},
           {"application/mac-binhex40","hqx"},
           {"application/mac-compactpro","cpt"},
           {"application/mads+xml","mads"},
           {"application/marc","mrc"},
           {"application/marcxml+xml","mrcx"},
           {"application/mathematica","ma"},
           {"application/mathml+xml","mathml"},
           {"application/mbox","mbox"},
           {"application/mediaservercontrol+xml","mscml"},
           {"application/metalink4+xml","meta4"},
           {"application/mods+xml","mods"},
           {"application/mp21","m21"},
           {"application/mp4","mp4"},
           {"application/msword","doc"},
           {"application/mxf","mxf"},
           {"application/octet-stream","bin"},
           {"application/oda","oda"},
           {"application/oebps-package+xml","opf"},
           {"application/ogg","ogx"},
           {"application/onenote","onetoc"},
           {"application/patch-ops-error+xml","xer"},
           {"application/pdf","pdf"},
           {"application/pgp-encrypted","pgp"},
           {"application/pgp-signature","pgp"},
           {"application/pics-rules","prf"},
           {"application/pkcs10","p10"},
           {"application/pkcs7-mime","p7m"},
           {"application/pkcs7-signature","p7s"},
           {"application/pkix-attr-cert","ac"},
           {"application/pkix-cert","cer"},
           {"application/pkix-crl","crl"},
           {"application/pkix-pkipath","pkipath"},
           {"application/pkixcmp","pki"},
           {"application/pls+xml","pls"},
           {"application/postscript","ai"},
           {"application/prs.cww","cww"},
           {"application/pskc+xml","pskcxml"},
           {"application/rdf+xml","rdf"},
           {"application/reginfo+xml","rif"},
           {"application/relax-ng-compact-syntax","rnc"},
           {"application/resource-lists+xml","rl"},
           {"application/resource-lists-diff+xml","rld"},
           {"application/rls-services+xml","rs"},
           {"application/rsd+xml","rsd"},
           {"application/rss+xml","rss"},
           {"application/rss+xml","xml"},
           {"application/rtf","rtf"},
           {"application/sbml+xml","sbml"},
           {"application/scvp-cv-request","scq"},
           {"application/scvp-cv-response","scs"},
           {"application/scvp-vp-request","spq"},
           {"application/scvp-vp-response","spp"},
           {"application/sdp","sdp"},
           {"application/set-payment-initiation","setpay"},
           {"application/set-registration-initiation","setreg"},
           {"application/shf+xml","shf"},
           {"application/sparql-query","rq"},
           {"application/sparql-results+xml","srx"},
           {"application/srgs","gram"},
           {"application/sru+xml","sru "},
           {"application/ssml+xml","ssml"},
           {"application/tei+xml","tei"},
           {"application/thraud+xml","tfi"},
           {"application/timestamped-data","tsd"},
           {"application/vnd.3gpp.pic-bw-large","plb"},
           {"application/vnd.3gpp.pic-bw-small","psb"},
           {"application/vnd.3gpp.pic-bw-var","pvb"},
           {"application/vnd.3gpp2.tcap","tcap"},
           {"application/vnd.3m.post-it-notes","pwn"},
           {"application/vnd.accpac.simply.aso","aso"},
           {"application/vnd.acucobol","acu"},
           {"application/vnd.acucorp","atc"},
           {"application/vnd.adobe.air-application-installer-package+zip","air"},
           {"application/vnd.adobe.fxp","fxp"},
           {"application/vnd.adobe.xdp+xml","xdp"},
           {"application/vnd.adobe.xfdf","xfdf"},
           {"application/vnd.ahead.space","ahead"},
           {"application/vnd.airzip.filesecure.azf","azf"},
           {"application/vnd.airzip.filesecure.azs","azs"},
           {"application/vnd.amazon.ebook","azw"},
           {"application/vnd.americandynamics.acc","acc"},
           {"application/vnd.amiga.ami","ami"},
           {"application/vnd.android.package-archive","apk"},
           {"application/vnd.anser-web-certificate-issue-initiation","cii"},
           {"application/vnd.anser-web-funds-transfer-initiation","fti"},
           {"application/vnd.antix.game-component","atx"},
           {"application/vnd.apple.installer+xml","mpkg"},
           {"application/vnd.apple.mpegurl","m3u8"},
           {"application/vnd.audiograph","aep"},
           {"application/vnd.blueice.multipass","mpm"},
           {"application/vnd.bmi","bmi"},
           {"application/vnd.businessobjects","rep"},
           {"application/vnd.chemdraw+xml","cdxml"},
           {"application/vnd.claymore","cla"},
           {"application/vnd.cloanto.rp9","rp9"},
           {"application/vnd.clonk.c4group","c4g"},
           {"application/vnd.cluetrust.cartomobile-config-pkg","c11amz"},
           {"application/vnd.cluetrust.cartomobile-config","c11amc"},
           {"application/vnd.commonspace","csp"},
           {"application/vnd.contact.cmsg","cdbcmsg"},
           {"application/vnd.cosmocaller","cmc"},
           {"application/vnd.crick.clicker.keyboard","clkk"},
           {"application/vnd.crick.clicker.palette","clkp"},
           {"application/vnd.crick.clicker.template","clkt"},
           {"application/vnd.crick.clicker.wordbank","clkw"},
           {"application/vnd.crick.clicker","clkx"},
           {"application/vnd.criticaltools.wbs+xml","wbs"},
           {"application/vnd.ctc-posml","pml"},
           {"application/vnd.cups-ppd","ppd"},
           {"application/vnd.curl.car","car"},
           {"application/vnd.curl.pcurl","pcurl"},
           {"application/vnd.data-vision.rdz","rdz"},
           {"application/vnd.dna","dna"},
           {"application/vnd.dolby.mlp","mlp"},
           {"application/vnd.dpgraph","dpg"},
           {"application/vnd.dreamfactory","dfac"},
           {"application/vnd.dvb.ait","ait"},
           {"application/vnd.dvb.service","svc"},
           {"application/vnd.dynageo","geo"},
           {"application/vnd.ecowin.chart","mag"},
           {"application/vnd.enliven","nml"},
           {"application/vnd.epson.esf","esf"},
           {"application/vnd.epson.msf","msf"},
           {"application/vnd.epson.quickanime","qam"},
           {"application/vnd.epson.salt","slt"},
           {"application/vnd.epson.ssf","ssf"},
           {"application/vnd.eszigno3+xml","es3"},
           {"application/vnd.ezpix-album","ez2"},
           {"application/vnd.ezpix-package","ez3"},
           {"application/vnd.fdf","fdf"},
           {"application/vnd.fdsn.seed","seed"},
           {"application/vnd.flographit","gph"},
           {"application/vnd.fluxtime.clip","ftc"},
           {"application/vnd.framemaker","fm"},
           {"application/vnd.frogans.fnc","fnc"},
           {"application/vnd.frogans.ltf","ltf"},
           {"application/vnd.fsc.weblaunch","fsc"},
           {"application/vnd.fujitsu.oasys2","oa2"},
           {"application/vnd.fujitsu.oasys3","oa3"},
           {"application/vnd.fujitsu.oasys","oas"},
           {"application/vnd.fujitsu.oasysgp","fg5"},
           {"application/vnd.fujitsu.oasysprs","bh2"},
           {"application/vnd.fujixerox.ddd","ddd"},
           {"application/vnd.fujixerox.docuworks.binder","xbd"},
           {"application/vnd.fujixerox.docuworks","xdw"},
           {"application/vnd.fuzzysheet","fzs"},
           {"application/vnd.genomatix.tuxedo","txd"},
           {"application/vnd.geogebra.file","ggb"},
           {"application/vnd.geogebra.tool","ggt"},
           {"application/vnd.geometry-explorer","gex"},
           {"application/vnd.geonext","gxt"},
           {"application/vnd.geoplan","g2w"},
           {"application/vnd.geospace","g3w"},
           {"application/vnd.gmx","gmx"},
           {"application/vnd.google-earth.kml+xml","kml"},
           {"application/vnd.google-earth.kmz","kmz"},
           {"application/vnd.grafeq","gqf"},
           {"application/vnd.groove-account","gac"},
           {"application/vnd.groove-help","ghf"},
           {"application/vnd.groove-injector","grv"},
           {"application/vnd.groove-tool-message","gtm"},
           {"application/vnd.groove-tool-template","tpl"},
           {"application/vnd.groove-vcard","vcg"},
           {"application/vnd.hal+xml","hal"},
           {"application/vnd.handheld-entertainment+xml","zmm"},
           {"application/vnd.hbci","hbci"},
           {"application/vnd.hhe.lesson-player","les"},
           {"application/vnd.hp-hpgl","hpgl"},
           {"application/vnd.hp-hpid","hpid"},
           {"application/vnd.hp-hps","hps"},
           {"application/vnd.hp-pcl","pcl"},
           {"application/vnd.hp-pclxl","pclxl"},
           {"application/vnd.hzn-3d-crossword","x3d"},
           {"application/vnd.ibm.minipay","mpy"},
           {"application/vnd.ibm.modcap","afp"},
           {"application/vnd.ibm.rights-management","irm"},
           {"application/vnd.ibm.secure-container","sc"},
           {"application/vnd.iccprofile","icc"},
           {"application/vnd.igloader","igl"},
           {"application/vnd.immervision-ivp","ivp"},
           {"application/vnd.immervision-ivu","ivu"},
           {"application/vnd.insors.igm","igm"},
           {"application/vnd.intercon.formnet","xpw"},
           {"application/vnd.intergeo","i2g"},
           {"application/vnd.intu.qbo","qbo"},
           {"application/vnd.intu.qfx","qfx"},
           {"application/vnd.irepository.package+xml","irp"},
           {"application/vnd.is-xpr","xpr"},
           {"application/vnd.isac.fcs","fcs"},
           {"application/vnd.jam","jam"},
           {"application/vnd.jcp.javame.midlet-rms","rms"},
           {"application/vnd.jisp","jisp"},
           {"application/vnd.joost.joda-archive","joda"},
           {"application/vnd.kahootz","ktz"},
           {"application/vnd.kde.karbon","karbon"},
           {"application/vnd.kde.kchart","chrt"},
           {"application/vnd.kde.kivio","flw"},
           {"application/vnd.kde.kontour","kon"},
           {"application/vnd.kde.kpresenter","kpr"},
           {"application/vnd.kde.kspread","ksp"},
           {"application/vnd.kde.kword","kwd"},
           {"application/vnd.kenameaapp","htke"},
           {"application/vnd.kidspiration","kia"},
           {"application/vnd.kinar","kne"},
           {"application/vnd.koan","skp"},
           {"application/vnd.kodak-descriptor","sse"},
           {"application/vnd.las.las+xml","lasxml"},
           {"application/vnd.llamagraphics.life-balance.desktop","lbd"},
           {"application/vnd.llamagraphics.life-balance.exchange+xml","lbe"},
           {"application/vnd.lotus-1-2-3","123"},
           {"application/vnd.lotus-approach","apr"},
           {"application/vnd.lotus-freelance","pre"},
           {"application/vnd.lotus-notes","nsf"},
           {"application/vnd.lotus-organizer","org"},
           {"application/vnd.lotus-screencam","scm"},
           {"application/vnd.lotus-wordpro","lwp"},
           {"application/vnd.macports.portpkg","portpkg"},
           {"application/vnd.mcd","mcd"},
           {"application/vnd.medcalcdata","mc1"},
           {"application/vnd.mediastation.cdkey","cdkey"},
           {"application/vnd.mfer","mwf"},
           {"application/vnd.mfmp","mfm"},
           {"application/vnd.micrografx.flo","flo"},
           {"application/vnd.micrografx.igx","igx"},
           {"application/vnd.mif","mif"},
           {"application/vnd.mobius.daf","daf"},
           {"application/vnd.mobius.dis","dis"},
           {"application/vnd.mobius.msl","msl"},
           {"application/vnd.mobius.plc","plc"},
           {"application/vnd.mobius.txf","txf"},
           {"application/vnd.mophun.application","mpn"},
           {"application/vnd.mophun.certificate","mpc"},
           {"application/vnd.ms-artgalry","cil"},
           {"application/vnd.ms-cab-compressed","cab"},
           {"application/vnd.ms-excel.addin.macroenabled.12","xlam"},
           {"application/vnd.ms-excel.sheet.binary.macroenabled.12","xlsb"},
           {"application/vnd.ms-excel.sheet.macroenabled.12","xlsm"},
           {"application/vnd.ms-excel.template.macroenabled.12","xltm"},
           {"application/vnd.ms-excel","xls"},
           {"application/vnd.ms-fontobject","eot"},
           {"application/vnd.ms-htmlhelp","chm"},
           {"application/vnd.ms-ims","ims"},
           {"application/vnd.ms-lrm","lrm"},
           {"application/vnd.ms-pki.seccat","cat"},
           {"application/vnd.ms-pki.stl","stl"},
           {"application/vnd.ms-powerpoint.addin.macroenabled.12","ppam"},
           {"application/vnd.ms-powerpoint.presentation.macroenabled.12","pptm"},
           {"application/vnd.ms-powerpoint.slide.macroenabled.12","sldm"},
           {"application/vnd.ms-powerpoint.slideshow.macroenabled.12","ppsm"},
           {"application/vnd.ms-powerpoint.template.macroenabled.12","potm"},
           {"application/vnd.ms-powerpoint","ppt"},
           {"application/vnd.ms-project","mpp"},
           {"application/vnd.ms-word.document.macroenabled.12","docm"},
           {"application/vnd.ms-word.template.macroenabled.12","dotm"},
           {"application/vnd.ms-works","wps"},
           {"application/vnd.ms-wpl","wpl"},
           {"application/vnd.mseq","mseq"},
           {"application/vnd.musician","mus"},
           {"application/vnd.muvee.style","msty"},
           {"application/vnd.neurolanguage.nlu","nlu"},
           {"application/vnd.noblenet-directory","nnd"},
           {"application/vnd.noblenet-sealer","nns"},
           {"application/vnd.noblenet-web","nnw"},
           {"application/vnd.nokia.n-gage.data","ngdat"},
           {"application/vnd.novadigm.edm","edm"},
           {"application/vnd.novadigm.edx","edx"},
           {"application/vnd.novadigm.ext","ext"},
           {"application/vnd.oasis.opendocument.chart-template","otc"},
           {"application/vnd.oasis.opendocument.chart","odc"},
           {"application/vnd.oasis.opendocument.formula-template","odft"},
           {"application/vnd.oasis.opendocument.formula","odf"},
           {"application/vnd.oasis.opendocument.graphics-template","otg"},
           {"application/vnd.oasis.opendocument.image-template","oti"},
           {"application/vnd.oasis.opendocument.image","odi"},
           {"application/vnd.oasis.opendocument.presentation-template","otp"},
           {"application/vnd.oasis.opendocument.presentation","odp"},
           {"application/vnd.oasis.opendocument.spreadsheet-template","ots"},
           {"application/vnd.oasis.opendocument.spreadsheet","ods"},
           {"application/vnd.oasis.opendocument.text-master","odm"},
           {"application/vnd.oasis.opendocument.text-template","ott"},
           {"application/vnd.oasis.opendocument.text","odt"},
           {"application/vnd.olpc-sugar","xo"},
           {"application/vnd.oma.dd2+xml","dd2"},
           {"application/vnd.openofficeorg.extension","oxt"},
           {"application/vnd.openxmlformats-officedocument.wordprocessingml.document","docx"},
           {"application/vnd.openxmlformats-officedocument.wordprocessingml.template","dotx"},
           {"application/vnd.osgeo.mapguide.package","mgp"},
           {"application/vnd.osgi.dp","dp"},
           {"application/vnd.palm","pdb"},
           {"application/vnd.pawaafile","paw"},
           {"application/vnd.picsel","efif"},
           {"application/vnd.pmi.widget","wg"},
           {"application/vnd.pocketlearn","plf"},
           {"application/vnd.powerbuilder6","pbd"},
           {"application/vnd.previewsystems.box","box"},
           {"application/vnd.proteus.magazine","mgz"},
           {"application/vnd.publishare-delta-tree","qps"},
           {"application/vnd.pvi.ptid1","ptid"},
           {"application/vnd.quark.quarkxpress","qxd"},
           {"application/vnd.realvnc.bed","bed"},
           {"application/vnd.recordare.musicxml","mxl"},
           {"application/vnd.rig.cryptonote","cryptonote"},
           {"application/vnd.rim.cod","cod"},
           {"application/vnd.rn-realmedia","rm"},
           {"application/vnd.sailingtracker.track","st"},
           {"application/vnd.seemail","see"},
           {"application/vnd.sema","sema"},
           {"application/vnd.semd","semd"},
           {"application/vnd.semf","semf"},
           {"application/vnd.shana.informed.formdata","ifm"},
           {"application/vnd.shana.informed.package","ipk"},
           {"application/vnd.simtech-mindmapper","twd"},
           {"application/vnd.smaf","mmf"},
           {"application/vnd.smart.teacher","teacher"},
           {"application/vnd.solent.sdkm+xml","sdkm"},
           {"application/vnd.spotfire.dxp","dxp"},
           {"application/vnd.spotfire.sfs","sfs"},
           {"application/vnd.stardivision.calc","sdc"},
           {"application/vnd.stardivision.draw","sda"},
           {"application/vnd.stardivision.impress","sdd"},
           {"application/vnd.stardivision.math","smf"},
           {"application/vnd.stardivision.writer-global","sgl"},
           {"application/vnd.stardivision.writer","sdw"},
           {"application/vnd.stepmania.stepchart","sm"},
           {"application/vnd.sun.xml.calc.template","stc"},
           {"application/vnd.sun.xml.calc","sxc"},
           {"application/vnd.sun.xml.draw.template","std"},
           {"application/vnd.sun.xml.draw","sxd"},
           {"application/vnd.sun.xml.impress.template","sti"},
           {"application/vnd.sun.xml.math","sxm"},
           {"application/vnd.sun.xml.writer.global","sxg"},
           {"application/vnd.sun.xml.writer.template","stw"},
           {"application/vnd.sus-calendar","sus"},
           {"application/vnd.svd","svd"},
           {"application/vnd.symbian.install","sis"},
           {"application/vnd.syncml+xml","xsm"},
           {"application/vnd.syncml.dm+wbxml","bdm"},
           {"application/vnd.syncml.dm+xml","xdm"},
           {"application/vnd.tao.intent-module-archive","tao"},
           {"application/vnd.tmobile-livetv","tmo"},
           {"application/vnd.trid.tpt","tpt"},
           {"application/vnd.triscape.mxs","mxs"},
           {"application/vnd.trueapp","tra"},
           {"application/vnd.ufdl","ufd"},
           {"application/vnd.umajin","umj"},
           {"application/vnd.unity","unityweb"},
           {"application/vnd.uoml+xml","uoml"},
           {"application/vnd.vcx","vcx"},
           {"application/vnd.visio2013","vsdx"},
           {"application/vnd.visio","vsd"},
           {"application/vnd.visionary","vis"},
           {"application/vnd.vsf","vsf"},
           {"application/vnd.wap.wbxml","wbxml"},
           {"application/vnd.wap.wmlscriptc","wmlsc"},
           {"application/vnd.webturbo","wtb"},
           {"application/vnd.wolfram.player","nbp"},
           {"application/vnd.wordperfect","wpd"},
           {"application/vnd.wqd","wqd"},
           {"application/vnd.wt.stf","stf"},
           {"application/vnd.xara","xar"},
           {"application/vnd.xfdl","xfdl"},
           {"application/vnd.yamaha.hv-dic","hvd"},
           {"application/vnd.yamaha.hv-script","hvs"},
           {"application/vnd.yamaha.hv-voice","hvp"},
           {"application/vnd.yamaha.openscoreformat.osfpvg+xml","osfpvg"},
           {"application/vnd.yamaha.openscoreformat","osf"},
           {"application/vnd.yamaha.smaf-audio","saf"},
           {"application/vnd.yamaha.smaf-phrase","spf"},
           {"application/vnd.yellowriver-custom-menu","cmp"},
           {"application/vnd.zul","zir"},
           {"application/vnd.zzazz.deck+xml","zaz"},
           {"application/voicexml+xml","vxml"},
           {"application/widget","wgt"},
           {"application/winhlp","hlp"},
           {"application/wsdl+xml","wsdl"},
           {"application/wspolicy+xml","wspolicy"},
           {"application/x-7z-compressed","7z"},
           {"application/x-abiword","abw"},
           {"application/x-ace-compressed","ace"},
           {"application/x-apple-diskimage","dmg"},
           {"application/x-authorware-bin","aab"},
           {"application/x-authorware-seg","aas"},
           {"application/x-bcpio","bcpio"},
           {"application/x-bittorrent","torrent"},
           {"application/x-bzip2","bz2"},
           {"application/x-bzip","bz"},
           {"application/x-cdlink","vcd"},
           {"application/x-chat","chat"},
           {"application/x-chess-pgn","pgn"},
           {"application/x-cpio","cpio"},
           {"application/x-csh","csh"},
           {"application/x-debian-package","deb"},
           {"application/x-director","dir"},
           {"application/x-doom","wad"},
           {"application/x-dtbook+xml","dtb"},
           {"application/x-dvi","dvi"},
           {"application/x-font-bdf","bdf"},
           {"application/x-font-ghostscript","gsf"},
           {"application/x-font-linux-psf","psf"},
           {"application/x-font-otf","otf"},
           {"application/x-font-pcf","pcf"},
           {"application/x-font-snf","snf"},
           {"application/x-font-ttf","ttf"},
           {"application/x-font-type1","pfa"},
           {"application/x-font-woff","woff"},
           {"application/x-futuresplash","spl"},
           {"application/x-gnumeric","gnumeric"},
           {"application/x-gtar","gtar"},
           {"application/x-hdf","hdf"},
           {"application/x-java-jnlp-file","jnlp"},
           {"application/x-latex","latex"},
           {"application/x-mobipocket-ebook","prc"},
           {"application/x-ms-application","application"},
           {"application/x-ms-wmd","wmd"},
           {"application/x-ms-xbap","xbap"},
           {"application/x-msaccess","mdb"},
           {"application/x-msbinder","obd"},
           {"application/x-mscardfile","crd"},
           {"application/x-msclip","clp"},
           {"application/x-msdownload","exe"},
           {"application/x-msmediaview","mvb"},
           {"application/x-msmetafile","wmf"},
           {"application/x-msmoney","mny"},
           {"application/x-mspublisher","pub"},
           {"application/x-msschedule","scd"},
           {"application/x-msterminal","trm"},
           {"application/x-mswrite","wri"},
           {"application/x-netcdf","nc"},
           {"application/x-pkcs12","p12"},
           {"application/x-pkcs7-certificates","p7b"},
           {"application/x-pkcs7-certreqresp","p7r"},
           {"application/x-rar-compressed","rar"},
           {"application/x-sh","sh"},
           {"application/x-shar","shar"},
           {"application/x-shockwave-flash","swf"},
           {"application/x-silverlight-app","xap"},
           {"application/x-stuffit","sit"},
           {"application/x-stuffitx","sitx"},
           {"application/x-sv4cpio","sv4cpio"},
           {"application/x-sv4crc","sv4crc"},
           {"application/x-tar","tar"},
           {"application/x-tcl","tcl"},
           {"application/x-tex-tfm","tfm"},
           {"application/x-tex","tex"},
           {"application/x-texinfo","texinfo"},
           {"application/x-ustar","ustar"},
           {"application/x-wais-source","src"},
           {"application/x-x509-ca-cert","der"},
           {"application/x-xfig","fig"},
           {"application/x-xpinstall","xpi"},
           {"application/xcap-diff+xml","xdf"},
           {"application/xenc+xml","xenc"},
           {"application/xhtml+xml","xhtml"},
           {"application/xml-dtd","dtd"},
           {"application/xml","xml"},
           {"application/xop+xml","xop"},
           {"application/xslt+xml","xslt"},
           {"application/xspf+xml","xspf"},
           {"application/xv+xml","mxml"},
           {"application/yang","yang"},
           {"application/yin+xml","yin"},
           {"application/zip","zip"},
           {"audio/adpcm","adp"},
           {"audio/basic","au"},
           {"audio/midi","mid"},
           {"audio/mp4","mp4a"},
           {"audio/mpeg","mpga"},
           {"audio/ogg","oga"},
           {"audio/vnd.dece.audio","uva"},
           {"audio/vnd.digital-winds","eol"},
           {"audio/vnd.dra","dra"},
           {"audio/vnd.dts.hd","dtshd"},
           {"audio/vnd.dts","dts"},
           {"audio/vnd.lucent.voice","lvp"},
           {"audio/vnd.ms-playready.media.pya","pya"},
           {"audio/vnd.nuera.ecelp4800","ecelp4800"},
           {"audio/vnd.nuera.ecelp7470","ecelp7470"},
           {"audio/vnd.nuera.ecelp9600","ecelp9600"},
           {"audio/vnd.rip","rip"},
           {"audio/webm","weba"},
           {"audio/x-aac","aac"},
           {"audio/x-aiff","aif"},
           {"audio/x-mpegurl","m3u"},
           {"audio/x-ms-wax","wax"},
           {"audio/x-ms-wma","wma"},
           {"audio/x-pn-realaudio-plugin","rmp"},
           {"audio/x-pn-realaudio","ram"},
           {"audio/x-wav","wav"},
           {"chemical/x-cdx","cdx"},
           {"chemical/x-cif","cif"},
           {"chemical/x-cmdf","cmdf"},
           {"chemical/x-cml","cml"},
           {"chemical/x-csml","csml"},
           {"chemical/x-xyz","xyz"},
           {"image/bmp","bmp"},
           {"image/cgm","cgm"},
           {"image/g3fax","g3"},
           {"image/gif","gif"},
           {"image/ief","ief"},
           {"image/jpeg","jpeg"},
           {"image/jpeg","jpg"},
           {"image/ktx","ktx"},
           {"image/pjpeg","pjpeg"},
           {"image/png","png"},
           {"image/prs.btif","btif"},
           {"image/svg+xml","svg"},
           {"image/tiff","tiff"},
           {"image/vnd.adobe.photoshop","psd"},
           {"image/vnd.dece.graphic","uvi"},
           {"image/vnd.djvu","djvu"},
           {"image/vnd.dvb.subtitle","sub"},
           {"image/vnd.dwg","dwg"},
           {"image/vnd.dxf","dxf"},
           {"image/vnd.fastbidsheet","fbs"},
           {"image/vnd.fpx","fpx"},
           {"image/vnd.fst","fst"},
           {"image/vnd.fujixerox.edmics-mmr","mmr"},
           {"image/vnd.fujixerox.edmics-rlc","rlc"},
           {"image/vnd.ms-modi","mdi"},
           {"image/vnd.net-fpx","npx"},
           {"image/vnd.wap.wbmp","wbmp"},
           {"image/vnd.xiff","xif"},
           {"image/webp","webp"},
           {"image/x-citrix-jpeg","jpeg"},
           {"image/x-citrix-jpeg","jpg"},
           {"image/x-cmu-raster","ras"},
           {"image/x-cmx","cmx"},
           {"image/x-freehand","fh"},
           {"image/x-icon","ico"},
           {"image/x-pcx","pcx"},
           {"image/x-pict","pic"},
           {"image/x-png","png"},
           {"image/x-portable-anymap","pnm"},
           {"image/x-portable-bitmap","pbm"},
           {"image/x-portable-graymap","pgm"},
           {"image/x-portable-pixmap","ppm"},
           {"image/x-rgb","rgb"},
           {"image/x-xbitmap","xbm"},
           {"image/x-xpixmap","xpm"},
           {"image/x-xwindowdump","xwd"},
           {"message/rfc822","eml"},
           {"mod_fly/fly.cgi","fly"},
           {"model/iges","igs"},
           {"model/mesh","msh"},
           {"model/vnd.collada+xml","dae"},
           {"model/vnd.dwf","dwf"},
           {"model/vnd.gdl","gdl"},
           {"model/vnd.gtw","gtw"},
           {"model/vnd.mts","mts"},
           {"model/vnd.vtu","vtu"},
           {"model/vrml","wrl"},
           {"text/calendar","ics"},
           {"text/css","css"},
           {"text/csv","csv"},
           {"text/html","html"},
           {"text/n3","n3"},
           {"text/plain-bas","par"},
           {"text/plain","txt"},
           {"text/prs.lines.tag","dsc"},
           {"text/richtext","rtx"},
           {"text/sgml","sgml"},
           {"text/tab-separated-values","tsv"},
           {"text/troff","t"},
           {"text/turtle","ttl"},
           {"text/uri-list","uri"},
           {"text/vnd.curl.dcurl","dcurl"},
           {"text/vnd.curl.mcurl","mcurl"},
           {"text/vnd.curl.scurl","scurl"},
           {"text/vnd.curl","curl"},
           {"text/vnd.fly","fly"},
           {"text/vnd.fmi.flexstor","flx"},
           {"text/vnd.graphviz","gv"},
           {"text/vnd.in3d.3dml","3dml"},
           {"text/vnd.in3d.spot","spot"},
           {"text/vnd.sun.j2me.app-descriptor","jad"},
           {"text/vnd.wap.wml","wml"},
           {"text/x-asm","s"},
           {"text/x-c","c"},
           {"text/x-fortran","f"},
           {"text/x-java-source","java"},
           {"text/x-pascal","p"},
           {"text/x-setext","etx"},
           {"text/x-uuencode","uu"},
           {"text/x-vcalendar","vcs"},
           {"text/x-vcard","vcf"},
           {"video/3gpp2","3g2"},
           {"video/3gpp","3gp"},
           {"video/h261","h261"},
           {"video/h263","h263"},
           {"video/h264","h264"},
           {"video/jpeg","jpgv"},
           {"video/jpm","jpm"},
           {"video/mj2","mj2"},
           {"video/mp4","mp4"},
           {"video/mpeg","mpeg"},
           {"video/ogg","ogv"},
           {"video/quicktime","qt"},
           {"video/vnd.dece.hd","uvh"},
           {"video/vnd.dece.mobile","uvm"},
           {"video/vnd.dece.pd","uvp"},
           {"video/vnd.dece.sd","uvs"},
           {"video/vnd.dece.video","uvv"},
           {"video/vnd.fvt","fvt"},
           {"video/vnd.mpegurl","mxu"},
           {"video/vnd.ms-playready.media.pyv","pyv"},
           {"video/vnd.uvvu.mp4","uvu"},
           {"video/vnd.vivo","viv"},
           {"video/webm","webm"},
           {"video/x-f4v","f4v"},
           {"video/x-fli","fli"},
           {"video/x-flv","flv"},
           {"video/x-m4v","m4v"},
           {"video/x-ms-asf","asf"},
           {"video/x-ms-wm","wm"},
           {"video/x-ms-wmv","wmv"},
           {"video/x-ms-wmx","wmx"},
           {"video/x-ms-wvx","wvx"},
           {"video/x-msvideo","avi"},
           {"video/x-sgi-movie","movie"},
           {"x-conference/x-cooltalk","ice"}
        };
    }

}   // Namespace checkMagic
